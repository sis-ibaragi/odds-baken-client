<h2 class="text-center py-5">レース情報</h2>
<main>
  <section class="pb-5 text-center">
    <h3 class="pb-2">開催日選択</h3>
    <ngb-datepicker
      #kaisaiDp
      [displayMonths]="displayMonths"
      [navigation]="navigation"
      [showWeekNumbers]="showWeekNumbers"
      [outsideDays]="outsideDays"
      [markDisabled]="isKaisaiDpDisabled"
      (select)="selectDate($event)"
      [(ngModel)]="kaisaiDpModel"
    ></ngb-datepicker>
  </section>
  <section class="pb-5 text-center" *ngIf="kaisaiDt">
    <h3 class="my-5">開催日: {{ kaisaiDt }}</h3>
    <div class="container">
      <table class="table-sm table-bordered table-hover">
        <thead class="table-header">
          <tr>
            <th rowspan="2">開催コード</th>
            <th rowspan="2">開催名</th>
            <th rowspan="2">レース</th>
            <th rowspan="2">出走頭数</th>
            <th colspan="2">オッズ時間</th>
            <!--th-->
            <th colspan="3">オッズ</th>
            <!--th-->
            <!--th-->
            <th colspan="4">穴レース判定</th>
            <!--th-->
            <!--th-->
            <!--th-->
          </tr>
          <tr>
            <!--th-->
            <!--th-->
            <!--th-->
            <!--th-->
            <th>単複</th>
            <th>馬連</th>
            <th>単勝 10 位</th>
            <th>馬連 1 位</th>
            <th>複勝 8 位</th>
            <th>単勝</th>
            <th>馬連</th>
            <th>複勝</th>
            <th>判定結果</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let record of raceSummaryList"
            [class.table-danger]="record.anaFlgCnt === 3"
            [class.table-warning]="record.anaFlgCnt === 2"
            [class.table-info]="record.anaFlgCnt === 1.5"
          >
            <td>{{ record.kaisaiCd }}</td>
            <td>{{ record.kaisaiNm }}</td>
            <td class="text-right">
              <a [routerLink]="['/race-odds', record.kaisaiCd, record.raceNo]">{{ record.raceNo }}</a>
            </td>
            <td class="text-right">{{ record.umaCnt }}</td>
            <td class="text-center">{{ record.tnpkOddsTime }}</td>
            <td class="text-center">{{ record.umrnOddsTime }}</td>
            <td class="text-right">{{ record.tan10Odds | number: '1.1-1' }}</td>
            <td class="text-right">{{ record.umrn1Odds | number: '1.1-1' }}</td>
            <td class="text-right">{{ record.fuku8Odds | number: '1.1-1' }}</td>
            <td class="text-center">{{ record.tanAnaFlg ? '✓' : null }}</td>
            <td class="text-center">{{ record.umrnAnaFlg ? '✓' : null }}</td>
            <td class="text-center">{{ record.fukuAnaFlg ? '✓' : null }}</td>
            <td class="text-center">{{ getAJdgeRslt(record.anaFlgCnt) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</main>
